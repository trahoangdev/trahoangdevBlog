---
title: 'JavaScript Async/Await - Lập Trình Bất Đồng Bộ'
date: '2025-11-20'
tags: ['javascript', 'async', 'promises']
draft: false
summary: 'Tìm hiểu về lập trình bất đồng bộ trong JavaScript với Promises và Async/Await.'
---

## Lập Trình Bất Đồng Bộ

JavaScript là ngôn ngữ đơn luồng (single-threaded), nhưng có thể xử lý các tác vụ bất đồng bộ như gọi API, đọc file, v.v.

## Promises

Promise là một đối tượng đại diện cho kết quả của một tác vụ bất đồng bộ.

```javascript
// Tạo Promise
const myPromise = new Promise((resolve, reject) => {
    setTimeout(() => {
        const success = true;
        if (success) {
            resolve("Thành công!");
        } else {
            reject("Có lỗi xảy ra!");
        }
    }, 2000);
});

// Sử dụng Promise
myPromise
    .then(result => {
        console.log(result); // "Thành công!"
    })
    .catch(error => {
        console.log(error);
    });
```

## Async/Await

Async/await làm cho code bất đồng bộ trông giống code đồng bộ, dễ đọc hơn.

```javascript
// Hàm async
async function fetchData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        console.log(data);
    } catch (error) {
        console.log("Lỗi:", error);
    }
}

fetchData();
```

## Ví Dụ Thực Tế

```javascript
// Giả lập gọi API
function getUserData(userId) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            const users = {
                1: { name: "Nguyễn Văn A", age: 25 },
                2: { name: "Trần Thị B", age: 22 }
            };
            
            const user = users[userId];
            if (user) {
                resolve(user);
            } else {
                reject("Không tìm thấy user");
            }
        }, 1000);
    });
}

// Sử dụng async/await
async function displayUser(userId) {
    try {
        console.log("Đang tải dữ liệu...");
        const user = await getUserData(userId);
        console.log(`Tên: ${user.name}, Tuổi: ${user.age}`);
    } catch (error) {
        console.log("Lỗi:", error);
    }
}

displayUser(1);
```
